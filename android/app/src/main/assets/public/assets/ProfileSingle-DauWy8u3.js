import{c as O,r as c,y as Y,j as e,D as K,av as ee,z as se,E as ae,J as te,L as U,e as le,f as ie,g as re,h as ce,i as V,X as Z,s as y,B as l,C as g,T as ne,t as oe,v as F,G as T,w as M,x as H,H as S,l as P,aw as R,U as G,q as D,p as W,m as q,u as de,A as me,ab as B,O as xe,d as L,M as he,ax as pe}from"./index-1rAgi2Qg.js";import{S as J}from"./switch-BihLigYM.js";import{N as ue}from"./Navigation-DRkFH7zH.js";import{c as be,m as ge,g as je}from"./data-B29IFJau.js";import{u as X}from"./useFeatures-BfaxJA2a.js";import{i as Q}from"./invitations-CuddF7zO.js";import{T as fe}from"./textarea-D_hiNBb5.js";import{U as E}from"./user-plus-wrE-Be86.js";import{P as $}from"./plus-CRp-iFFZ.js";import{E as z}from"./eye-CaueRuto.js";import{C as ve}from"./camera-CfAGdBvy.js";import{S as Ne}from"./share-2-CpK7j1G0.js";import{S as we}from"./square-pen-C99Cp7Vn.js";/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=O("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=O("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function ye({targetProfileId:o,targetProfileName:i,children:s}){const[v,p]=c.useState(!1),[u,d]=c.useState(""),[b,k]=c.useState("profile"),[r,n]=c.useState(!1),{toast:m}=Y(),C=async()=>{if(!u.trim()){m({title:"Mensaje requerido",description:"Por favor escribe un mensaje para la invitación.",variant:"destructive"});return}n(!0);try{const x=JSON.parse(localStorage.getItem("demo_user")||"{}");await Q.sendInvitation({from_profile:x.id||"1",to_profile:o,message:u.trim(),type:b}),m({title:"Invitación enviada",description:`Tu invitación a ${i} ha sido enviada exitosamente.`}),d(""),k("profile"),p(!1)}catch{m({title:"Error",description:"No se pudo enviar la invitación. Inténtalo de nuevo.",variant:"destructive"})}finally{n(!1)}},N=x=>{switch(x){case"profile":return e.jsx(Z,{className:"h-4 w-4"});case"gallery":return e.jsx(A,{className:"h-4 w-4"});case"chat":return e.jsx(y,{className:"h-4 w-4"});default:return e.jsx(E,{className:"h-4 w-4"})}},h=x=>{switch(x){case"profile":return"Solicitar conexión general con el perfil";case"gallery":return"Solicitar acceso a la galería privada";case"chat":return"Solicitar permiso para chat privado";default:return""}};return e.jsxs(K,{open:v,onOpenChange:p,children:[e.jsx(ee,{asChild:!0,children:s}),e.jsxs(se,{className:"sm:max-w-md",children:[e.jsx(ae,{children:e.jsxs(te,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Enviar Invitación a ",i]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"type",children:"Tipo de invitación"}),e.jsxs(le,{value:b,onValueChange:x=>k(x),children:[e.jsx(ie,{children:e.jsx(re,{placeholder:"Selecciona el tipo"})}),e.jsxs(ce,{children:[e.jsx(V,{value:"profile",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{children:"Conexión de Perfil"})]})}),e.jsx(V,{value:"gallery",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{children:"Acceso a Galería"})]})}),e.jsx(V,{value:"chat",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),e.jsx("span",{children:"Chat Privado"})]})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h(b)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"message",children:"Mensaje"}),e.jsx(fe,{id:"message",placeholder:"Escribe un mensaje personalizado...",value:u,onChange:x=>d(x.target.value),rows:4,maxLength:500}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[u.length,"/500"]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(l,{variant:"outline",onClick:()=>p(!1),className:"flex-1",disabled:r,children:"Cancelar"}),e.jsx(l,{onClick:C,className:"flex-1",disabled:r||!u.trim(),children:r?"Enviando...":e.jsxs(e.Fragment,{children:[N(b),e.jsx("span",{className:"ml-2",children:"Enviar"})]})})]})]})]})]})}const ke=({userId:o,isOwner:i=!1,canViewPrivate:s=!1,profileName:v="Usuario"})=>{const{features:p}=X(),[u,d]=c.useState(be),[b,k]=c.useState("public"),[r,n]=c.useState(null),[m,C]=c.useState(s);c.useEffect(()=>{(async()=>{if(!i&&o){const f=await Q.hasGalleryAccess(o,"1");C(f)}})()},[o,i]);const N=u.filter(a=>a.isPublic),h=u.filter(a=>!a.isPublic),x=a=>{const j={id:Date.now(),userId:o,url:`https://images.unsplash.com/photo-${Math.random()>.5?"1494790108755-2616c96d2e9c":"1472099645785-5658abf4ff4e"}?w=400&h=400&fit=crop&crop=face`,caption:a?"Nueva foto pública":"Nueva foto privada",isPublic:a,createdAt:new Date().toISOString(),likes:0,comments:0};d(f=>[j,...f])},t=a=>{d(j=>j.map(f=>f.id===a?{...f,isPublic:!f.isPublic}:f))},w=a=>{d(j=>j.filter(f=>f.id!==a)),n(null)},I=a=>new Date(a).toLocaleDateString("es-ES",{day:"numeric",month:"short"});return p.galleryPublicPrivate?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Galería"}),e.jsx("p",{className:"text-white/70",children:i?"Gestiona tus fotos públicas y privadas":"Explora las fotos compartidas"})]}),i&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(l,{onClick:()=>x(!0),className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Pública"]}),e.jsxs(l,{onClick:()=>x(!1),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Privada"]})]})]}),e.jsxs(ne,{value:b,onValueChange:a=>k(a),className:"w-full",children:[e.jsxs(oe,{className:"grid w-full grid-cols-2 bg-black/30 backdrop-blur-sm",children:[e.jsxs(F,{value:"public",className:"data-[state=active]:bg-white/20 data-[state=active]:text-white text-white/70 flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Públicas (",N.length,")"]}),e.jsxs(F,{value:"private",className:"data-[state=active]:bg-white/20 data-[state=active]:text-white text-white/70 flex items-center gap-2",disabled:!i&&!m,children:[e.jsx(M,{className:"h-4 w-4"}),"Privadas (",i||m?h.length:"?",")"]})]}),e.jsx(H,{value:"public",className:"mt-6",children:N.length===0?e.jsxs(g,{className:"p-8 text-center bg-black/30 backdrop-blur-sm border-white/10",children:[e.jsx(T,{className:"h-16 w-16 mx-auto mb-4 text-white/50"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No hay fotos públicas"}),e.jsx("p",{className:"text-white/70",children:i?"Sube tu primera foto pública para que otros puedan verte.":"Este usuario no ha compartido fotos públicas aún."})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:N.map(a=>e.jsxs(g,{className:"group relative overflow-hidden bg-black/30 backdrop-blur-sm border-white/10 cursor-pointer hover:scale-105 transition-transform",onClick:()=>n(a),children:[e.jsx("div",{className:"aspect-square",children:e.jsx("img",{src:a.url,alt:a.caption||"Foto",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-end",children:e.jsx("div",{className:"p-3 w-full",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{children:a.likes}),e.jsx(y,{className:"h-4 w-4"}),e.jsx("span",{children:a.comments})]}),e.jsxs(P,{variant:"outline",className:"border-green-500 text-green-400",children:[e.jsx(T,{className:"h-3 w-3 mr-1"}),"Pública"]})]})})}),i&&e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(l,{size:"sm",variant:"outline",className:"bg-black/50 border-white/20 text-white hover:bg-black/70",onClick:j=>{j.stopPropagation(),t(a.id)},children:e.jsx(_,{className:"h-3 w-3"})})})]},a.id))})}),e.jsx(H,{value:"private",className:"mt-6",children:!i&&!m?e.jsxs(g,{className:"p-8 text-center bg-black/30 backdrop-blur-sm border-white/10",children:[e.jsx(M,{className:"h-16 w-16 mx-auto mb-4 text-white/50"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Contenido Privado"}),e.jsx("p",{className:"text-white/70 mb-4",children:"Necesitas una invitación aceptada para ver las fotos privadas de este usuario."}),e.jsx(ye,{targetProfileId:o.toString(),targetProfileName:v,children:e.jsxs(l,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Solicitar Acceso a Galería"]})})]}):h.length===0?e.jsxs(g,{className:"p-8 text-center bg-black/30 backdrop-blur-sm border-white/10",children:[e.jsx(M,{className:"h-16 w-16 mx-auto mb-4 text-white/50"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No hay fotos privadas"}),e.jsx("p",{className:"text-white/70",children:i?"Sube fotos privadas para compartir solo con tus conexiones.":"Este usuario no ha compartido fotos privadas contigo aún."})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:h.map(a=>e.jsxs(g,{className:"group relative overflow-hidden bg-black/30 backdrop-blur-sm border-white/10 cursor-pointer hover:scale-105 transition-transform",onClick:()=>n(a),children:[e.jsx("div",{className:"aspect-square",children:e.jsx("img",{src:a.url,alt:a.caption||"Foto",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-end",children:e.jsx("div",{className:"p-3 w-full",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{children:a.likes}),e.jsx(y,{className:"h-4 w-4"}),e.jsx("span",{children:a.comments})]}),e.jsxs(P,{variant:"outline",className:"border-purple-500 text-purple-400",children:[e.jsx(M,{className:"h-3 w-3 mr-1"}),"Privada"]})]})})}),i&&e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(l,{size:"sm",variant:"outline",className:"bg-black/50 border-white/20 text-white hover:bg-black/70",onClick:j=>{j.stopPropagation(),t(a.id)},children:e.jsx(z,{className:"h-3 w-3"})})})]},a.id))})})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx(g,{className:"w-full max-w-2xl bg-black/90 backdrop-blur-sm border-white/20",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(P,{variant:"outline",className:r.isPublic?"border-green-500 text-green-400":"border-purple-500 text-purple-400",children:[r.isPublic?e.jsx(T,{className:"h-3 w-3 mr-1"}):e.jsx(M,{className:"h-3 w-3 mr-1"}),r.isPublic?"Pública":"Privada"]}),e.jsx("span",{className:"text-white/60 text-sm",children:I(r.createdAt)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[i&&e.jsxs(e.Fragment,{children:[e.jsx(l,{size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",onClick:()=>t(r.id),children:r.isPublic?e.jsx(_,{className:"h-4 w-4"}):e.jsx(z,{className:"h-4 w-4"})}),e.jsx(l,{size:"sm",variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/10",onClick:()=>w(r.id),children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsx(l,{size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",onClick:()=>n(null),children:e.jsx(R,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"aspect-video mb-4",children:e.jsx("img",{src:r.url,alt:r.caption||"Foto",className:"w-full h-full object-cover rounded-lg"})}),r.caption&&e.jsx("p",{className:"text-white mb-4",children:r.caption}),e.jsx("div",{className:"flex items-center justify-between text-white/70",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsxs("span",{children:[r.likes," likes"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(y,{className:"h-4 w-4"}),e.jsxs("span",{children:[r.comments," comentarios"]})]})]})})]})})})]}):e.jsxs(g,{className:"p-6 text-center bg-black/30 backdrop-blur-sm border-white/10",children:[e.jsx(A,{className:"h-12 w-12 mx-auto mb-3 text-white/50"}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Galería no disponible"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Esta función estará disponible próximamente."})]})},Se=({onComplete:o,profileName:i,profileType:s})=>{const[v,p]=c.useState(0),[u,d]=c.useState(0),b=[`Cargando perfil de ${i}...`,"Verificando fotos y contenido...","Sincronizando preferencias lifestyle...",`¡Perfil de ${i} listo!`],k=[G,ve,D,W];c.useEffect(()=>{const n=setInterval(()=>{p(m=>m>=100?(clearInterval(n),setTimeout(o,500),100):m+3)},60);return()=>clearInterval(n)},[o]),c.useEffect(()=>{const n=setInterval(()=>{d(m=>(m+1)%b.length)},1e3);return()=>clearInterval(n)},[b.length]);const r=k[u]||G;return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-hero-gradient",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/30 via-pink-900/30 to-red-900/30",children:[e.jsx("div",{className:"absolute top-32 left-32 w-48 h-48 bg-pink-500/15 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-32 right-32 w-64 h-64 bg-purple-500/15 rounded-full blur-2xl animate-pulse"}),e.jsx("div",{className:"absolute top-20 right-20 w-32 h-32 bg-red-500/10 rounded-full blur-xl animate-bounce"})]}),e.jsxs("div",{className:"relative z-10 text-center space-y-8 px-6",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"w-32 h-32 mx-auto mb-6 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500 to-red-500 rounded-full animate-pulse opacity-30"}),e.jsx("div",{className:"absolute inset-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center backdrop-blur-sm",children:e.jsx(r,{className:"w-12 h-12 text-white animate-bounce"})}),e.jsx("div",{className:"absolute -top-2 -right-2 animate-ping",children:e.jsx(q,{className:"w-4 h-4 text-yellow-300"})}),e.jsx("div",{className:"absolute -bottom-2 -left-2 animate-pulse",children:e.jsx(S,{className:"w-5 h-5 text-pink-300"})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-4xl font-bold text-white animate-fade-in bg-gradient-to-r from-white to-pink-200 bg-clip-text text-transparent",children:i}),e.jsx("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:e.jsx("span",{className:"text-sm text-white/80",children:s==="couple"?"👫 Pareja":"👤 Individual"})}),e.jsx("p",{className:"text-lg text-white/90 animate-slide-up max-w-md mx-auto",children:b[u]})]}),e.jsxs("div",{className:"w-80 mx-auto space-y-3",children:[e.jsx("div",{className:"w-full bg-white/20 rounded-full h-4 backdrop-blur-sm border border-white/10",children:e.jsxs("div",{className:"bg-gradient-to-r from-pink-500 via-purple-500 to-red-500 h-4 rounded-full transition-all duration-300 ease-out relative overflow-hidden",style:{width:`${v}%`},children:[e.jsx("div",{className:"absolute inset-0 bg-white/40 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})]})}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-white/70",children:"Cargando perfil..."}),e.jsxs("span",{className:"text-white font-medium",children:[v,"%"]})]})]}),e.jsxs("div",{className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-pink-500/20 to-red-500/20 rounded-full backdrop-blur-sm border border-white/20",children:[e.jsx(D,{className:"w-4 h-4 text-green-300"}),e.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Perfil Verificado Lifestyle"})]}),e.jsx("div",{className:"absolute top-16 left-16 animate-float",children:e.jsx(q,{className:"w-5 h-5 text-pink-300/70"})}),e.jsx("div",{className:"absolute bottom-16 right-16 animate-float",style:{animationDelay:"1.5s"},children:e.jsx(S,{className:"w-6 h-6 text-red-300/70"})}),e.jsx("div",{className:"absolute top-1/4 right-24 animate-float",style:{animationDelay:"3s"},children:e.jsx(W,{className:"w-4 h-4 text-yellow-300/70"})}),e.jsx("div",{className:"absolute bottom-1/4 left-24 animate-float",style:{animationDelay:"2s"},children:e.jsx(G,{className:"w-5 h-5 text-purple-300/70"})})]})]})},Ue=()=>{const o=de(),{features:i}=X(),[s,v]=c.useState(null),[p,u]=c.useState(!0),[d,b]=c.useState(ge),[k,r]=c.useState(!1),[n,m]=c.useState("profile"),[C,N]=c.useState(!0);c.useEffect(()=>{const t=localStorage.getItem("demo_authenticated"),w=localStorage.getItem("demo_user");if(t!=="true"||!w){o("/discover");return}const I=JSON.parse(w);setTimeout(()=>{if(I.accountType==="single")v(I);else{const a=je();v(a)}N(!1)},2500)},[o]);const h=(t,w)=>{b(I=>({...I,[t]:w}))},x=()=>{console.log("Enviando solicitud de conexión...")};return C?e.jsx(Se,{onComplete:()=>N(!1),profileName:s?.first_name||"Usuario",profileType:"single"}):s?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-hero-gradient",children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsxs("div",{className:"absolute inset-0 opacity-40",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-primary/20 via-transparent to-accent/20 animate-gradient-x"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent via-secondary/10 to-primary/15 animate-gradient-y"})]}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-float-slow"}),e.jsx("div",{className:"absolute top-40 right-32 w-48 h-48 bg-accent/8 rounded-full blur-2xl animate-float-reverse"}),e.jsx("div",{className:"absolute bottom-32 left-1/3 w-80 h-80 bg-secondary/4 rounded-full blur-3xl animate-float-slow shape-delay-2"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-56 h-56 bg-primary/6 rounded-full blur-2xl animate-float shape-delay-1"})]})]}),e.jsx("div",{className:"bg-black/80 backdrop-blur-md border-b border-white/30 p-3 sm:p-4 shadow-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs(l,{variant:"ghost",onClick:()=>o("/profiles"),className:"text-white hover:bg-white/20 text-sm sm:text-base p-2",children:[e.jsx(me,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"ml-1 sm:ml-2",children:"Regresar"})]}),e.jsx("h1",{className:"text-base sm:text-lg md:text-xl font-bold text-white text-center flex-1 min-w-0 px-2 truncate",children:s.first_name||"Usuario"}),e.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[e.jsx(l,{variant:"ghost",size:"sm",className:"bg-white/10 hover:bg-white/20 p-2 transition-all duration-300 hover:scale-105",onClick:()=>{navigator.share?navigator.share({title:`Perfil de ${s.first_name}`,text:`Conoce a ${s.first_name} en ComplicesConecta`,url:window.location.href}):navigator.clipboard.writeText(window.location.href).then(()=>alert("Enlace copiado al portapapeles"))},children:e.jsx(Ne,{className:"h-4 w-4 text-white opacity-90"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>o("/edit-profile-single"),className:"hover:bg-white/20 p-2 transition-all duration-300 hover:scale-105",children:e.jsx(B,{className:"h-4 w-4 text-white"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>o("/tokens"),className:"hover:bg-white/20 p-2 transition-all duration-300 hover:scale-105",children:e.jsx(xe,{className:"h-4 w-4 text-white"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent",children:[e.jsxs("div",{className:"p-2 sm:p-4 pb-20 sm:pb-32 space-y-4 sm:space-y-6 max-w-2xl mx-auto min-h-full",children:[e.jsx(g,{className:"overflow-hidden bg-white/90 backdrop-blur-md shadow-glow border-0",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"aspect-[3/4] rounded-t-lg overflow-hidden mb-4 relative bg-gray-100",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=500&h=625&fit=crop&crop=face",alt:s.first_name||"Perfil",className:"w-full h-full object-cover",onLoad:()=>console.log("Imagen cargada correctamente"),onError:t=>{console.log("Error cargando imagen, usando fallback"),t.currentTarget.src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=500&h=625&fit=crop&crop=face",t.currentTarget.onerror=()=>{console.log("Fallback también falló, usando SVG"),t.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjYyNSIgdmlld0JveD0iMCAwIDUwMCA2MjUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MDAiIGhlaWdodD0iNjI1IiBmaWxsPSIjOTMzM2VhIi8+Cjx0ZXh0IHg9IjI1MCIgeT0iMzEyLjUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIyNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJjZW50cmFsIj5Gb3RvIGRlIFBlcmZpbDwvdGV4dD4KPHN2Zz4="}}}),s.isOnline&&e.jsx(P,{className:"bg-green-500 text-white px-2 py-1 text-xs",children:"En línea"}),s.is_verified&&e.jsx(P,{className:"bg-blue-500 text-white px-2 py-1 text-xs",children:"✓ Verificado"})]}),p?e.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[e.jsxs(l,{onClick:()=>o("/edit-profile-single"),className:"bg-white/90 text-black hover:bg-white transition-all duration-300 hover:scale-105",children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Editar"]}),e.jsxs(l,{onClick:()=>m("privacy"),className:"bg-purple-500/90 text-white hover:bg-purple-600 transition-all duration-300 hover:scale-105",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Privacidad"]})]}):e.jsxs("div",{className:"space-y-3 mt-4",children:[e.jsxs(l,{onClick:()=>{console.log("Enviando mensaje a",s.first_name),alert(`Mensaje enviado a ${s.first_name}`)},className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:from-pink-600 hover:to-purple-700",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Enviar mensaje"]}),e.jsxs(l,{onClick:()=>{console.log("Me gusta",s.first_name),alert(`¡Has dado like a ${s.first_name}!`)},className:"w-full bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Me gusta"]}),e.jsxs(l,{onClick:()=>{console.log("Reportando perfil de",s.first_name),confirm(`¿Estás seguro de que quieres reportar el perfil de ${s.first_name}?`)&&alert("Perfil reportado. Gracias por ayudarnos a mantener la comunidad segura.")},variant:"outline",className:"w-full border-red-300 text-red-600 hover:bg-red-50",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Reportar perfil"]})]})]})}),e.jsxs("div",{className:"flex bg-white/90 backdrop-blur-md rounded-lg shadow-lg mb-6",children:[e.jsx(l,{variant:n==="profile"?"default":"ghost",className:"flex-1 rounded-r-none",onClick:()=>m("profile"),children:"Perfil"}),e.jsx(l,{variant:n==="gallery"?"default":"ghost",className:"flex-1 rounded-none",onClick:()=>m("gallery"),children:"Galería"}),p&&i.profileVisibility&&e.jsxs(l,{variant:n==="privacy"?"default":"ghost",className:"flex-1 rounded-l-none",onClick:()=>m("privacy"),children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Privacidad"]})]}),n==="profile"&&e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"bg-white/90 backdrop-blur-md shadow-lg border-0",children:e.jsxs(L,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.first_name}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-gray-700 mb-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),s.location||"CDMX"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:s.profession||"Profesional"})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-4 mb-4 border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Sobre mí"}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:s.bio||"Persona auténtica buscando conexiones reales y experiencias memorables. Me encanta el arte y conocer gente nueva."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-3 border border-gray-200 shadow-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Edad: "}),e.jsx("span",{className:"text-gray-700",children:s.age})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-3 border border-gray-200 shadow-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Buscando: "}),e.jsx("p",{className:"text-gray-700",children:"Conexiones auténticas"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.stats?.matches||0}),e.jsx("div",{className:"text-xs text-gray-600",children:"Matches"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.stats?.likes||0}),e.jsx("div",{className:"text-xs text-gray-600",children:"Likes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.stats?.views||0}),e.jsx("div",{className:"text-xs text-gray-600",children:"Vistas"})]})]})]})}),e.jsx(g,{className:"bg-white/90 backdrop-blur-md shadow-lg border-0",children:e.jsxs(L,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Intereses"}),e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-4 border border-gray-200 shadow-sm mb-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(s.interests||["Lifestyle Swinger","Comunicación Abierta","Respeto Mutuo","Experiencias Nuevas","Discreción Total"]).map((t,w)=>e.jsx(P,{className:"bg-purple-100 text-purple-800 border border-purple-200 text-xs flex-shrink-0 hover:bg-purple-200 transition-colors",children:t},w))})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("p",{className:"text-sm text-gray-800",children:[e.jsx("strong",{className:"text-gray-900",children:"Buscando:"})," ",s.lookingFor||"Conexiones auténticas y experiencias únicas"]})}),e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("p",{className:"text-sm text-gray-800",children:[e.jsx("strong",{className:"text-gray-900",children:"Estilo de vida:"})," ",s.lifestyle||"Aventurero y espontáneo"]})}),e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("p",{className:"text-sm text-gray-800",children:[e.jsx("strong",{className:"text-gray-900",children:"Nivel de experiencia:"})," ",s.experienceLevel||"Intermedio"]})}),e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("p",{className:"text-sm text-gray-800",children:[e.jsx("strong",{className:"text-gray-900",children:"Tipo de relación:"})," ",s.relationship_type||"Single"]})})]})]})})]}),n==="gallery"&&e.jsx(ke,{userId:s.id,isOwner:p,canViewPrivate:!0}),n==="privacy"&&p&&i.profileVisibility&&e.jsx(g,{className:"bg-gradient-to-br from-purple-900/95 to-pink-900/95 backdrop-blur-sm shadow-glow border-0",children:e.jsxs(L,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Configuración de Privacidad"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-white/20 pb-4",children:[e.jsxs("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[e.jsx(z,{className:"h-5 w-5 mr-2"}),"Visibilidad del Perfil"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"profileVisibility",value:"public",checked:d.profileVisibility==="public",onChange:t=>h("profileVisibility",t.target.value),className:"text-purple-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"h-4 w-4 mr-2 text-green-400"}),e.jsx("span",{className:"font-medium text-white",children:"Público"})]}),e.jsx("p",{className:"text-sm text-white/80",children:"Visible para todos los usuarios"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"profileVisibility",value:"connections_only",checked:d.profileVisibility==="connections_only",onChange:t=>h("profileVisibility",t.target.value),className:"text-purple-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"h-4 w-4 mr-2 text-blue-400"}),e.jsx("span",{className:"font-medium text-white",children:"Solo conexiones"})]}),e.jsx("p",{className:"text-sm text-white/80",children:"Visible solo para usuarios conectados"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"profileVisibility",value:"hidden",checked:d.profileVisibility==="hidden",onChange:t=>h("profileVisibility",t.target.value),className:"text-purple-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"h-4 w-4 mr-2 text-red-400"}),e.jsx("span",{className:"font-medium text-white",children:"Oculto"})]}),e.jsx("p",{className:"text-sm text-white/80",children:"No apareces en búsquedas"})]})]})]})]}),e.jsxs("div",{className:"border-b border-white/20 pb-4",children:[e.jsxs("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),"Mensajes"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"allowMessages",value:"everyone",checked:d.allowMessages==="everyone",onChange:t=>h("allowMessages",t.target.value),className:"text-purple-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:"Cualquier persona"}),e.jsx("p",{className:"text-sm text-white/80",children:"Todos pueden enviarte mensajes"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"allowMessages",value:"connections_only",checked:d.allowMessages==="connections_only",onChange:t=>h("allowMessages",t.target.value),className:"text-purple-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:"Solo conexiones"}),e.jsx("p",{className:"text-sm text-white/80",children:"Solo usuarios conectados"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"allowMessages",value:"none",checked:d.allowMessages==="none",onChange:t=>h("allowMessages",t.target.value),className:"text-purple-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:"Nadie"}),e.jsx("p",{className:"text-sm text-white/80",children:"Desactivar mensajes"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:"Mostrar estado en línea"}),e.jsx("p",{className:"text-sm text-white/80",children:"Otros pueden ver cuando estás activo"})]}),e.jsx(J,{checked:d.showOnlineStatus,onCheckedChange:t=>h("showOnlineStatus",t)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:"Mostrar última conexión"}),e.jsx("p",{className:"text-sm text-white/80",children:"Mostrar cuándo estuviste activo por última vez"})]}),e.jsx(J,{checked:d.showLastSeen,onCheckedChange:t=>h("showLastSeen",t)})]})]})]})]})}),!p&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(l,{className:"flex-1 bg-gradient-to-r from-pink-500 to-red-500 hover:from-pink-600 hover:to-red-600 text-white py-3",size:"lg",children:[e.jsx(S,{className:"h-5 w-5 mr-2"}),"Me gusta"]}),i.requests&&e.jsxs(l,{onClick:x,className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white py-3",size:"lg",children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),"Conectar"]}),e.jsxs(l,{variant:"outline",className:"flex-1 border-purple-300 text-purple-600 hover:bg-purple-50 py-3",size:"lg",children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),"Mensaje"]})]})]}),e.jsx(ue,{}),C&&e.jsx(pe,{onComplete:()=>N(!1)})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Perfil no encontrado"}),e.jsx(l,{onClick:()=>o("/profiles"),className:"mt-4 text-white bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",children:"Volver a perfiles"})]})})};export{Ue as default};
