import{c as y,y as R,r as c,j as e,C as t,Q as o,T as E,t as L,v as p,x as j,B as N,l}from"./index-1rAgi2Qg.js";import{N as U}from"./Navigation-DRkFH7zH.js";import{u as A}from"./useFeatures-BfaxJA2a.js";import{i as f}from"./invitations-CuddF7zO.js";import{C as v}from"./clock-WWygtRIw.js";import{S as g}from"./send-BDvOtBRI.js";import{U as w}from"./user-plus-wrE-Be86.js";import{M as _}from"./message-square-Vq01sBCb.js";import{G as q}from"./gallery-horizontal-Dvg2COrn.js";/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=y("MailQuestion",[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M18 15.28c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"7z9rxb"}],["path",{d:"M20 22v.01",key:"12bgn6"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n=y("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),K=()=>{const{features:k}=A(),{toast:m}=R(),[i,I]=c.useState([]),[r,C]=c.useState([]),[S,z]=c.useState("received"),x="1",d=c.useCallback(async()=>{const{received:s,sent:a}=await f.getInvitations(x);I(s),C(a)},[x]);c.useEffect(()=>{const s=localStorage.getItem("demo_authenticated"),a=localStorage.getItem("demo_user");if(s!=="true"||!a){window.location.href="/auth";return}d()},[d]);const h=async(s,a)=>{try{await f.respondInvitation(s,a),m({title:`Invitación ${a==="accept"?"aceptada":"rechazada"}`,description:"La invitación ha sido procesada correctamente."}),d()}catch{m({title:"Error",description:"No se pudo procesar la solicitud. Inténtalo de nuevo.",variant:"destructive"})}},u=s=>{switch(s){case"gallery":return e.jsx(q,{className:"h-4 w-4 mr-2"});case"chat":return e.jsx(_,{className:"h-4 w-4 mr-2"});case"profile":return e.jsx(w,{className:"h-4 w-4 mr-2"});default:return e.jsx(B,{className:"h-4 w-4 mr-2"})}},b=s=>{switch(s){case"pending":return e.jsxs(l,{variant:"outline",className:"text-yellow-400 border-yellow-400",children:[e.jsx(v,{className:"h-3 w-3 mr-1"}),"Pendiente"]});case"accepted":return e.jsxs(l,{variant:"outline",className:"text-green-400 border-green-400",children:[e.jsx(o,{className:"h-3 w-3 mr-1"}),"Aceptada"]});case"declined":return e.jsxs(l,{variant:"outline",className:"text-red-400 border-red-400",children:[e.jsx(n,{className:"h-3 w-3 mr-1"}),"Rechazada"]});case"revoked":return e.jsxs(l,{variant:"outline",className:"text-white border-white/40",children:[e.jsx(n,{className:"h-3 w-3 mr-1"}),"Revocada"]})}},T=i.filter(s=>s.status==="pending").length,M=[...i,...r].filter(s=>s.status==="accepted").length;return k.requests?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-900 to-red-900 relative overflow-hidden pb-20",children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsxs("div",{className:"absolute inset-0 opacity-40",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-primary/20 via-transparent to-accent/20 animate-gradient-x"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent via-secondary/10 to-primary/15 animate-gradient-y"})]}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-float-slow"}),e.jsx("div",{className:"absolute top-40 right-32 w-48 h-48 bg-accent/8 rounded-full blur-2xl animate-float-reverse"})]})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(U,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Mis Solicitudes"}),e.jsx("p",{className:"text-white/80",children:"Gestiona tus invitaciones y solicitudes de conexión"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs(t,{className:"p-4 bg-black/30 backdrop-blur-sm border-white/10 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(v,{className:"h-5 w-5 text-yellow-400 mr-2"}),e.jsx("span",{className:"text-white font-semibold",children:"Pendientes"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:T})]}),e.jsxs(t,{className:"p-4 bg-black/30 backdrop-blur-sm border-white/10 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(o,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("span",{className:"text-white font-semibold",children:"Conexiones Activas"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:M})]}),e.jsxs(t,{className:"p-4 bg-black/30 backdrop-blur-sm border-white/10 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(g,{className:"h-5 w-5 text-blue-400 mr-2"}),e.jsx("span",{className:"text-white font-semibold",children:"Enviadas"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:r.length})]})]}),e.jsxs(E,{value:S,onValueChange:s=>z(s),className:"w-full",children:[e.jsxs(L,{className:"grid w-full grid-cols-2 bg-black/30 backdrop-blur-sm",children:[e.jsxs(p,{value:"received",className:"data-[state=active]:bg-white/20 data-[state=active]:text-white text-white/70",children:["Recibidas (",i.length,")"]}),e.jsxs(p,{value:"sent",className:"data-[state=active]:bg-white/20 data-[state=active]:text-white text-white/70",children:["Enviadas (",r.length,")"]})]}),e.jsx(j,{value:"received",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:i.length===0?e.jsxs(t,{className:"p-8 text-center bg-black/30 backdrop-blur-sm border-white/10",children:[e.jsx(w,{className:"h-16 w-16 mx-auto mb-4 text-white/50"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No hay invitaciones recibidas"}),e.jsx("p",{className:"text-white/70",children:"Cuando alguien te envíe una invitación, aparecerá aquí."})]}):i.map(s=>e.jsxs(t,{className:"p-4 bg-black/30 backdrop-blur-sm border-white/10 flex flex-col sm:flex-row items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/80",children:[u(s.type),e.jsxs("span",{children:["Invitación de ",e.jsx("strong",{children:s.from_profile})]})]}),b(s.status)]}),s.message&&e.jsxs("p",{className:"text-sm text-white/70 bg-white/10 p-3 rounded-md mb-3",children:['"',s.message,'"']}),e.jsxs("p",{className:"text-xs text-white/50",children:["Recibido: ",new Date(s.created_at).toLocaleString()]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-2 self-stretch sm:self-center",children:[e.jsxs(N,{size:"sm",onClick:()=>h(s.id,"accept"),className:"bg-green-500 hover:bg-green-600",children:[e.jsx(o,{className:"h-4 w-4 mr-1"})," Aceptar"]}),e.jsxs(N,{size:"sm",variant:"destructive",onClick:()=>h(s.id,"decline"),children:[e.jsx(n,{className:"h-4 w-4 mr-1"})," Rechazar"]})]})]},s.id))})}),e.jsx(j,{value:"sent",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:r.length===0?e.jsxs(t,{className:"p-8 text-center bg-black/30 backdrop-blur-sm border-white/10",children:[e.jsx(g,{className:"h-16 w-16 mx-auto mb-4 text-white/50"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No has enviado invitaciones"}),e.jsx("p",{className:"text-white/70",children:"Explora perfiles y envía invitaciones para conectar."})]}):r.map(s=>e.jsxs(t,{className:"p-4 bg-black/30 backdrop-blur-sm border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/80",children:[u(s.type),e.jsxs("span",{children:["Invitación para ",e.jsx("strong",{children:s.to_profile})]})]}),b(s.status)]}),s.message&&e.jsxs("p",{className:"text-sm text-white/70 bg-white/10 p-3 rounded-md my-3",children:['"',s.message,'"']}),e.jsxs("p",{className:"text-xs text-white/50",children:["Enviado: ",new Date(s.created_at).toLocaleString()]})]},s.id))})})]})]})})]}),e.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob { animation: blob 7s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
      `})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-900 to-red-900 flex items-center justify-center",children:e.jsxs(t,{className:"p-8 text-center bg-card/80 backdrop-blur-sm",children:[e.jsx(n,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Función no disponible"}),e.jsx("p",{className:"text-muted-foreground",children:"Las solicitudes de conexión no están habilitadas en esta versión."})]})})};export{K as default};
