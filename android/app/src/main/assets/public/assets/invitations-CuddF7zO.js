let o=[{id:"1",from_profile:"2",to_profile:"1",message:"Hola, me encantaría conocerte mejor y ver tu galería privada.",type:"gallery",status:"pending",created_at:new Date(Date.now()-864e5).toISOString()},{id:"2",from_profile:"3",to_profile:"1",message:"¡Hola! ¿Te gustaría chatear en privado?",type:"chat",status:"pending",created_at:new Date(Date.now()-36e5).toISOString()},{id:"3",from_profile:"1",to_profile:"4",message:"Me pareces muy interesante, ¿podríamos conectar?",type:"profile",status:"accepted",created_at:new Date(Date.now()-1728e5).toISOString(),decided_at:new Date(Date.now()-864e5).toISOString()}],n=[{id:"1",owner_profile:"4",grantee_profile:"1",scope:"private_gallery",source_invitation:"3",status:"active",created_at:new Date(Date.now()-864e5).toISOString()}];const i={async sendInvitation(a){const t={...a,id:Math.random().toString(36).substr(2,9),status:"pending",created_at:new Date().toISOString()};return o.push(t),t},async respondInvitation(a,t){const e=o.find(r=>r.id===a);if(!e)throw new Error("Invitación no encontrada");if(e.status=t==="accept"?"accepted":"declined",e.decided_at=new Date().toISOString(),t==="accept"&&e.type==="gallery"){const r={id:Math.random().toString(36).substr(2,9),owner_profile:e.to_profile,grantee_profile:e.from_profile,scope:"private_gallery",source_invitation:e.id,status:"active",created_at:new Date().toISOString()};n.push(r)}return e},async getInvitations(a){const t=o.filter(r=>r.to_profile===a),e=o.filter(r=>r.from_profile===a);return{received:t,sent:e}},async hasGalleryAccess(a,t){return n.some(e=>e.owner_profile===a&&e.grantee_profile===t&&e.status==="active")},async revokeGalleryAccess(a,t){const e=n.find(r=>r.owner_profile===a&&r.grantee_profile===t&&r.status==="active");e&&(e.status="revoked")},async hasChatAccess(a,t){return o.some(e=>(e.from_profile===a&&e.to_profile===t||e.from_profile===t&&e.to_profile===a)&&e.type==="chat"&&e.status==="accepted")},resetMockData(){o.length=0,n.length=0}};export{i};
