{
  "timestamp": "2025-09-06T10:23:09.068Z",
  "tables": {
    "profiles": {
      "exists": true,
      "columns": 0,
      "missingColumns": [
        "id",
        "first_name",
        "last_name",
        "email",
        "avatar_url",
        "interests",
        "profile_type"
      ],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "✅"
    },
    "user_roles": {
      "exists": true,
      "columns": 0,
      "missingColumns": [
        "id",
        "user_id",
        "role"
      ],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "✅"
    },
    "invitations": {
      "exists": true,
      "columns": 0,
      "missingColumns": [
        "id",
        "from_profile",
        "to_profile",
        "status",
        "type"
      ],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "✅"
    },
    "gallery_permissions": {
      "exists": true,
      "columns": 0,
      "missingColumns": [
        "id",
        "profile_id",
        "granted_to",
        "granted_by"
      ],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "✅"
    },
    "images": {
      "exists": false,
      "columns": 0,
      "missingColumns": [
        "id",
        "profile_id",
        "url",
        "is_public",
        "type"
      ],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "❌"
    },
    "image_permissions": {
      "exists": false,
      "columns": 0,
      "missingColumns": [],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "❌"
    },
    "gallery_access_requests": {
      "exists": false,
      "columns": 0,
      "missingColumns": [],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "❌"
    },
    "chat_rooms": {
      "exists": false,
      "columns": 0,
      "missingColumns": [
        "id",
        "name",
        "is_public",
        "created_by"
      ],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "❌"
    },
    "chat_members": {
      "exists": false,
      "columns": 0,
      "missingColumns": [
        "id",
        "room_id",
        "profile_id",
        "role"
      ],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "❌"
    },
    "messages": {
      "exists": false,
      "columns": 0,
      "missingColumns": [
        "id",
        "room_id",
        "sender_id",
        "content",
        "message_type"
      ],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "❌"
    },
    "chat_invitations": {
      "exists": false,
      "columns": 0,
      "missingColumns": [],
      "rlsEnabled": false,
      "policiesCount": 0,
      "status": "❌"
    }
  },
  "storage": {
    "profile-images": {
      "exists": true,
      "status": "✅"
    },
    "gallery-images": {
      "exists": true,
      "status": "✅"
    },
    "chat-media": {
      "exists": true,
      "status": "✅"
    }
  },
  "summary": {
    "tablesExist": 4,
    "tablesTotal": 11,
    "rlsEnabled": 0,
    "bucketsExist": 3,
    "bucketsTotal": 3,
    "criticalIssues": [
      "Tabla profiles: columnas faltantes id, first_name, last_name, email, avatar_url, interests, profile_type",
      "Tabla profiles: RLS no habilitado",
      "Tabla user_roles: columnas faltantes id, user_id, role",
      "Tabla user_roles: RLS no habilitado",
      "Tabla invitations: columnas faltantes id, from_profile, to_profile, status, type",
      "Tabla invitations: RLS no habilitado",
      "Tabla gallery_permissions: columnas faltantes id, profile_id, granted_to, granted_by",
      "Tabla gallery_permissions: RLS no habilitado",
      "Tabla images: no existe",
      "Tabla image_permissions: no existe",
      "Tabla gallery_access_requests: no existe",
      "Tabla chat_rooms: no existe",
      "Tabla chat_members: no existe",
      "Tabla messages: no existe",
      "Tabla chat_invitations: no existe"
    ],
    "recommendations": [
      "Ejecutar migraciones SQL para crear tablas faltantes",
      "Aplicar políticas RLS a tablas sin protección"
    ]
  }
}