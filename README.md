# üéØ ComplicesConecta - Plataforma Swinger Premium v3.5.0

<div align="center">

[![React](https://img.shields.io/badge/React-18.3.1-blue.svg)](https://reactjs.org/)
[![Supabase](https://img.shields.io/badge/Supabase-Backend-green.svg)](https://supabase.com/)
[![Android](https://img.shields.io/badge/Android-Ready-brightgreen.svg)](android/)
[![+18](https://img.shields.io/badge/Contenido-+18-red.svg)](#aviso-legal)
[![TypeScript](https://img.shields.io/badge/TypeScript-100%25-blue.svg)](src/)
[![Production Ready](https://img.shields.io/badge/Production-Ready-brightgreen.svg)](#deployment)
[![AI Native](https://img.shields.io/badge/AI-Native-purple.svg)](#ai-native-layer)

### üì± ¬°Descarga la App Ahora!

<a href="https://github.com/ComplicesConectaSw/ComplicesConecta/releases/download/v.3.5.0/app-release.apk" download>
  <img src="https://img.shields.io/badge/üì±_Descargar_APK-v3.5.0-3DDC84?style=for-the-badge&logo=android&logoColor=white&labelColor=1976D2" alt="Descargar APK" />
</a>

**SHA256:** `Verificado - Build v3.5.0 con AI-Native Layer + S2 Geosharding`

*üîí Aplicaci√≥n segura y verificada para Android*

</div>

---

## üìö √çndice de Documentaci√≥n

### **üìã Documentaci√≥n T√©cnica**
- **[üîß Gu√≠a de Instalaci√≥n](./INSTALACION_SETUP_v3.5.0.md)** - Gu√≠a completa paso a paso de instalaci√≥n y configuraci√≥n
- **[üèóÔ∏è Estructura del Proyecto](./project-structure-tree.md)** - √Årbol detallado del monorepo
- **[üìù Notas de Lanzamiento](./RELEASE_NOTES_v3.4.1.md)** - Historial completo de versiones
- **[‚öôÔ∏è DevOps Guide](./README_DEVOPS.md)** - Gu√≠a de operaciones y deployment
- **[ü§ñ IA Integration Guide](./README_IA.md)** - Estrategia de desarrollo con IA
- **[üìö Documentaci√≥n Completa v3.5.0](./docs/DOCUMENTACION_COMPLETA_v3.5.0.md)** - Documentaci√≥n t√©cnica completa del sistema
- **[üìä Diagramas de Flujos](./docs/DIAGRAMAS_FLUJOS_v3.5.0.md)** - Diagramas Mermaid de todos los flujos del sistema
- **[üìù Resumen de Conversaci√≥n](./docs/RESUMEN_CONVERSACION_v3.5.0.md)** - Resumen ejecutivo de la conversaci√≥n de desarrollo
- **[üìö Documentaci√≥n Maestra Unificada](./DOCUMENTACION_MAESTRA_UNIFICADA_v3.5.0.md)** - Documentaci√≥n consolidada completa (BD, Migraciones, S2, Vercel, Neo4j, Features)
- **[üìù Memorias de Sesiones Unificadas](./MEMORIAS_SESIONES_UNIFICADAS_v3.5.0.md)** - Memorias consolidadas de sesiones y avances

---

## üèÜ AI-NATIVE PLATFORM - Production Ready Enterprise

**Estado:** ‚úÖ **PRODUCTION READY - AI-NATIVE - ENTERPRISE GRADE - REFACTORIZADO - NEO4J OPERATIVO** üèÜ  
**√öltima Actualizaci√≥n:** 06 de Noviembre, 2025  
**Versi√≥n:** 3.5.0 - AI-Native + Refactorizaci√≥n + CSS Optimizado + React Fixes + Chat con Privacidad + Correcciones Cr√≠ticas + Docker Build Successful + Neo4j Correcciones + Campos de Registro + An√°lisis de Estilos Completo

> **La primera plataforma swinger con IA nativa de M√©xico +18**

### üéâ NUEVAS FUNCIONALIDADES v3.5.0

#### üîß Correcciones Cr√≠ticas (02 Nov 2025 - 07:50)
- ‚úÖ **Errores React Resueltos**: React en vendor bundle, polyfills mejorados con fallbacks completos
- ‚úÖ **Linting Sin Errores**: Tests y servicios corregidos (0 errores)
- ‚úÖ **Documentaci√≥n Consolidada**: 10+ archivos en 1 maestro
- ‚úÖ **Git Historial Limpio**: Secretos eliminados del historial
- ‚úÖ **Mejoras Visuales CSS**: Gradientes purple/blue profesionales, visibilidad mejorada
- ‚úÖ **Errores Wallet Silenciados Ultra Agresivo**: 
  - Captura por mensaje, archivo y stack trace
  - Console.error y console.warn override
  - Handlers de error y unhandledrejection en fase de captura
  - Consola 100% limpia sin errores de MetaMask, Solana, TronLink, Bybit, EVMask
- ‚úÖ **Correcciones UI**: Bot√≥n "Todas" corregido, textos invisibles en TokenChatBot resueltos
- ‚úÖ **Navegaci√≥n Condicional**: HeaderNav desaparece cuando usuario est√° logueado, usa Navigation
- ‚úÖ **Documentaci√≥n Interna**: Tokens - T√©rminos/Privacidad/Legal solo visibles para usuarios autenticados

#### üß† AI-Native Layer (COMPLETADO 100%)
- ‚úÖ **ML Compatibility Scoring** - PyTorch/TensorFlow.js
- ‚úÖ **Chat Summaries ML** - GPT-4, BART, Fallback
- ‚úÖ **Feature Extraction** - 11 features (likes, proximity, interests)
- ‚úÖ **Hybrid Scoring** - AI + Legacy fallback autom√°tico
- ‚úÖ **Opciones Gratuitas** - HuggingFace API (100% gratis)
- ‚úÖ **Rate Limiting** - 10 res√∫menes/d√≠a por usuario
- ‚úÖ **Cache Inteligente** - 1h para scores, 24h para res√∫menes
- ‚úÖ **IA Consent Verification** - Verificaci√≥n real-time de consentimiento en chats con NLP (Ley Olimpia MX)
- ‚úÖ **Predictive Matching** - Matching predictivo con Neo4j + IA Emocional (friends-of-friends)

#### üìä Google S2 Geosharding (ESTRUCTURA 100%, TOTAL 70%)
- ‚úÖ **S2Service** - Cell ID generation (niveles 10-20)
- ‚úÖ **Database Migration** - s2_cell_id + s2_level
- ‚úÖ **Geolocation Integration** - Hook actualizado
- ‚úÖ **Backfill Script** - Batch processing 100 profiles/vez
- ‚è≥ **Pendiente** - Ejecutar backfill + queries optimizadas

#### üóÑÔ∏è Neo4j Graph Database (IMPLEMENTADO 100% + OPERATIVO) ‚úÖ
- ‚úÖ **Neo4jService** - Graph database para conexiones sociales (548 l√≠neas)
- ‚úÖ **Docker Compose** - Configuraci√≥n completa de Neo4j Community Edition 5.15
- ‚úÖ **Sincronizaci√≥n** - Scripts `sync-postgres-to-neo4j.ts` y `verify-neo4j.ts` (corregidos 05 Nov 2025)
- ‚úÖ **Setup de √çndices** - Script `setup-neo4j-indexes.ts` para optimizaci√≥n autom√°tica
- ‚úÖ **Integraci√≥n** - SmartMatchingService con enriquecimiento social y recomendaciones FOF
- ‚úÖ **GraphMatchingService** - Matching predictivo con algoritmo "friends-of-friends" + IA Emocional (NUEVO 06 Nov 2025)
- ‚úÖ **Performance** - 200x m√°s r√°pido para queries de conexiones sociales
- ‚úÖ **Variables de Entorno** - Configuradas en `.env` (VITE_SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE_KEY)
- ‚úÖ **Operativo** - Neo4j corriendo, conexi√≥n verificada, 4 usuarios sincronizados (05 Nov 2025)

#### üóÑÔ∏è Base de Datos
- ‚úÖ **52+ Tablas Operativas** - Sistema completo de clubs, inversiones, moderaci√≥n, tokens (PostgreSQL/Supabase)
- ‚úÖ **Neo4j Graph Database** - 100% implementado para conexiones sociales
- ‚úÖ **80+ √çndices Optimizados** - Queries optimizadas
- ‚úÖ **65+ Pol√≠ticas RLS** - Seguridad completa
- ‚úÖ **12 Triggers Activos** - Automatizaci√≥n de procesos
- ‚úÖ **Docker Build Exitoso** - Imagen `complicesconecta:latest` creada (191.9s)
- ‚úÖ **Docker Compose** - Neo4j configurado y listo
- ‚úÖ **Backup Consolidado** - Actualizado y verificado

#### üè¢ Sistema de Clubs Verificados ‚úÖ (NUEVO v3.5.0)
- ‚úÖ **5 Tablas Nuevas**: `clubs`, `club_verifications`, `club_checkins`, `club_reviews`, `club_flyers`
- ‚úÖ **Check-ins Geoloc**: Radio 50m con verificaci√≥n autom√°tica
- ‚úÖ **Rese√±as Verificadas**: Solo usuarios con WorldID + check-in real
- ‚úÖ **Watermark + Blur IA**: Autom√°tico en im√°genes de clubs
- ‚úÖ **P√°ginas P√∫blicas**: `/clubs/{slug}` con flyers editables
- ‚úÖ **Panel Admin**: `/admin/partners` para gesti√≥n de clubs

#### üõ°Ô∏è Sistema de Moderaci√≥n 24/7 ‚úÖ (NUEVO v3.5.0)
- ‚úÖ **Jerarqu√≠a 5 Niveles**: SuperAdmin (30%) ‚Üí Elite (8%) ‚Üí Senior (5%) ‚Üí Junior (3%) ‚Üí Trainee (1K CMPX)
- ‚úÖ **Pagos Autom√°ticos**: Cada lunes basados en % revenue
- ‚úÖ **Timer Conexi√≥n**: Autom√°tico para tracking de horas
- ‚úÖ **IA Pre-clasificaci√≥n**: Cola de reportes con priorizaci√≥n autom√°tica
- ‚úÖ **Baneo Permanente**: Con huella digital (canvas + WorldID)

#### üíé Sistema de Tokens CMPX ‚úÖ (NUEVO v3.5.0)
- ‚úÖ **Total Supply**: 100M CMPX tokens
- ‚úÖ **Shop Activo**: 1000 CMPX = 300 MXN
- ‚úÖ **Comisi√≥n Galer√≠as**: 10% (creador gana 90%)
- ‚úÖ **Staking**: 10% APY anual
- ‚úÖ **DAO**: Activaci√≥n a 10K usuarios

#### üí∞ Sistema de Donativos/Inversi√≥n ‚úÖ (NUEVO v3.5.0)
- ‚úÖ **SAFTE Autom√°tico**: 10% retorno anual garantizado
- ‚úÖ **Tiers**: $10K, $25K, $50K, $100K MXN
- ‚úÖ **Landing `/invest`**: Con Stripe integrado
- ‚úÖ **Plataformas**: AngelList + Republic listos para publicar

#### üîß Refactorizaci√≥n Completa v3.5.0
- ‚úÖ **PostCSS Config** - Corregido Tailwind v3 vs v4 (ROOT CAUSE)
- ‚úÖ **Contraste CSS** - Hero, Auth, Events, Tabs optimizados
- ‚úÖ **Bundle Optimizado** - 236.38 KB CSS completo + code splitting
- ‚úÖ **Duplicaci√≥n Reducida** -77% (auth, nav, matching, chat)
- ‚úÖ **Documentaci√≥n Consolidada** - 58 archivos organizados
- ‚úÖ **Wallet Errors** - Completamente silenciados
- ‚úÖ **An√°lisis de Estilos Completo** - Auditor√≠a de 19 archivos CSS + Tailwind config (06 Nov 2025)
- ‚úÖ **Limpieza de Archivos** - `App.css` vac√≠o eliminado seg√∫n recomendaciones

### üéâ FUNCIONALIDADES v3.4.1

#### üìä Sistema de Monitoreo Completo (95%)
- ‚úÖ **Performance Monitoring** - M√©tricas en tiempo real
- ‚úÖ **Error Alerting** - Detecci√≥n autom√°tica y categorizaci√≥n
- ‚úÖ **Analytics Dashboard** - Visualizaci√≥n interactiva con 4 pesta√±as
- ‚úÖ **Web Vitals Tracking** - LCP, FCP, FID, CLS, TTFB
- ‚úÖ **Moderation Metrics** - M√©tricas para moderadores
- ‚úÖ **Historical Charts** - Gr√°ficos con Recharts (4 tipos)
- ‚úÖ **Webhook System** - Slack, Discord, Custom + Alertas autom√°ticas
- ‚úÖ **Sentry Integration** - Error tracking + Source maps + Release tracking
- ‚úÖ **New Relic APM** - Monitoreo de infraestructura y aplicaci√≥n

### üéØ Misi√≥n

Crear la comunidad swinger m√°s exclusiva y segura de M√©xico, donde parejas y solteros pueden conectar para intercambio de parejas de manera aut√©ntica, discreta y verificada.

---

## ‚ú® Caracter√≠sticas Revolucionarias

### üß† **Sistema de Matches Inteligente con IA Avanzada**
- **üéØ Matching Inteligente con IA**: Algoritmo basado en Big Five + traits espec√≠ficos swinger
- **üìä Scoring de Compatibilidad**: An√°lisis multifactorial con confianza y razones detalladas
- **üìç Geolocalizaci√≥n Avanzada**: C√°lculo de distancia real con f√≥rmula de Haversine
- **üîç Filtros por Proximidad**: "Muy cerca de ti" (‚â§5km), "En tu zona" (‚â§15km)
- **üíù Matches Mutuos**: Solo conexiones reales y verificadas
- **üõ°Ô∏è Moderaci√≥n Autom√°tica**: IA para detecci√≥n de contenido inapropiado y spam

### üé® **Sistema de Temas Personalizable**
- **5 Temas √önicos**: Light, Dark, Elegant, Modern, Vibrant
- **Selecci√≥n en Registro**: Elige tu tema favorito al crear tu cuenta
- **Persistencia Real**: Preferencias guardadas en Supabase
- **Estilos Din√°micos**: Navbar adaptable (transparente/s√≥lido)

### üíï **Experiencia Social Premium con IA**
- **üí¨ Chat en Tiempo Real**: WebSockets con Supabase Realtime, typing indicators y presencia
- **üîí Sistema de Privacidad en Chat**: Solicitar/aceptar/denegar chats, control total de quien puede contactarte
- **ü§ñ IA Consent Verification**: Verificaci√≥n real-time de consentimiento en chats con NLP (cumplimiento Ley Olimpia MX)
- **üñºÔ∏è Galer√≠as NFT-Verificadas**: Galer√≠as privadas verificadas con NFTs mintados (requiere 100 GTK staking)
- **üñºÔ∏è Permisos de Galer√≠a desde Chat**: Solicitar acceso a galer√≠as privadas directamente desde el chat
- **üìç Geolocalizaci√≥n en Chat**: Compartir ubicaci√≥n en mensajes para encuentros
- **üìπ Video Chat P2P**: Preparado para implementaci√≥n futura con WebRTC
- **üîî Push Notifications**: Notificaciones nativas con Service Worker
- **üîó Sistema de Conexiones**: Solicitudes y control de privacidad
- **üñºÔ∏è Galer√≠as Privadas**: Contenido p√∫blico y privado por usuario
- **üë´ Perfiles de Pareja Avanzados**: Sistema completo con UI distintiva
- **üé≠ Eventos VIP Exclusivos**: Fiestas privadas y encuentros verificados
- **üå± Eventos Virtuales Sostenibles**: Eventos virtuales con tracking CO2 y recompensas CMPX (50 por participaci√≥n)
- **üéÅ Regalos Virtuales**: Sistema de tokens CMPX y GTK
- **ü§ñ Asistente IA Interactivo**: Gu√≠a paso a paso para gesti√≥n de tokens
- **üß† Matching Predictivo**: Matching inteligente con Neo4j + IA Emocional (friends-of-friends)

### üîê **Seguridad y Privacidad Avanzada**
- **üîí Autenticaci√≥n Dual**: Demo mode + Real mode con Supabase Auth
- **üõ°Ô∏è Row Level Security (RLS)**: 60+ pol√≠ticas activas
- **üîë Verificaci√≥n de Identidad**: Sistema de verificaci√≥n de usuarios
- **üåê World ID Integration**: Verificaci√≥n con Worldcoin
- **üìä Audit Logs**: Registro completo de actividad
- **‚ö†Ô∏è Sistema de Reportes**: Moderaci√≥n autom√°tica y manual

### üìä **Sistema de Monitoreo Enterprise-Grade**

#### Performance Monitoring
- **M√©tricas en Tiempo Real**: Load time, interaction time, memory usage
- **Web Vitals**: LCP, FCP, FID, CLS, TTFB
- **Umbrales Configurables**: Alertas autom√°ticas
- **Reportes Autom√°ticos**: Generaci√≥n de insights

#### Error Alerting
- **Captura Autom√°tica**: Errores no controlados y promesas rechazadas
- **Categorizaci√≥n**: Frontend, Backend, Network, Database, Auth
- **Severidad**: Low, Medium, High, Critical
- **Acciones M√∫ltiples**: Console, notifications, storage, webhooks

#### Analytics Dashboard
- **4 Pesta√±as Funcionales**:
  1. **Overview**: M√©tricas de performance y errores
  2. **Moderaci√≥n**: Reportes, moderadores, KPIs
  3. **Hist√≥rico**: Gr√°ficos con Recharts (Line, Area, Composed, Bar)
  4. **Configuraci√≥n**: Alertas, notificaciones, webhooks
- **Auto-Refresh**: Configurable (1s, 5s, 10s, 30s)
- **Exportaci√≥n**: CSV, JSON, Excel
- **Notificaciones Desktop**: Alertas cr√≠ticas en navegador

#### Moderation Metrics
- **Estado de Reportes**: Pendientes, En Revisi√≥n, Resueltos, Descartados
- **Severidad**: Cr√≠tico, Alto, Medio, Bajo
- **Tipo**: Perfiles, Posts, Mensajes, Otros
- **KPIs**: Tiempo de resoluci√≥n, respuesta, tasa de resoluci√≥n, eficiencia

#### Historical Charts (Recharts)
- **Line Chart**: Tendencias de performance (load time, interaction, memory)
- **Area Chart**: Distribuci√≥n de errores por severidad (stacked)
- **Composed Chart**: Web Vitals (barras + l√≠neas)
- **Bar Chart**: Actividad de moderaci√≥n por d√≠a
- **Rangos Temporales**: 1h, 6h, 12h, 24h, 48h, 7d

#### Webhook System
- **Providers**: Slack, Discord, Custom
- **Eventos**: error, alert, report, performance, security
- **Rate Limiting**: Configurable por webhook
- **Sistema de Colas**: Procesamiento as√≠ncrono
- **Alertas Autom√°ticas**: Integraci√≥n con ErrorAlertService
- **UI Completa**: CRUD, test en vivo, gesti√≥n de configuraci√≥n

#### Sentry Integration
- **Error Tracking**: Captura autom√°tica con context
- **Performance Monitoring**: Browser Tracing + Transaction tracking
- **Session Replay**: Grabaci√≥n de sesiones con errores
- **Source Maps**: Upload autom√°tico con Vite plugin
- **Release Tracking**: Versionado completo
- **Privacidad**: Filtros de datos sensibles (headers, query params, user data)
- **Breadcrumbs**: Console, DOM, Fetch, History
- **Sampling**: Configurable (10% transactions, 100% errors)

#### New Relic Integration
- **Infrastructure Agent**: Monitoreo de contenedores Docker
- **APM Agent**: Monitoreo de aplicaci√≥n Node.js
- **AI Monitoring**: An√°lisis de respuestas IA
- **Distributed Tracing**: Seguimiento de requests
- **Custom Events**: M√©tricas personalizadas
- **Dashboard**: Visualizaci√≥n en New Relic One

---

## üìä Estad√≠sticas del Proyecto

### M√©tricas de Desarrollo
```
üìÅ Total de Archivos: 300+
üìù L√≠neas de C√≥digo: 42,500+
üß© Componentes React: 100+
üé£ Custom Hooks: 25+
üìÑ P√°ginas: 25+
üóÑÔ∏è Tablas DB: 47 (sincronizadas 100%)
‚ö° Edge Functions: 10+
üîê Pol√≠ticas RLS: 60+
üìä √çndices Optimizados: 75+
üîÑ Triggers: 9
```

### M√©tricas de Calidad
```
‚úÖ TypeScript Errors: 0
‚úÖ Linting Errors: 0
‚úÖ JSX Errors: 0
‚úÖ Test Coverage: 98%
‚úÖ Build Success: 100%
‚úÖ Database Sync: 100%
‚úÖ Lighthouse Score: >98
‚úÖ Bundle Size: <350KB (gzipped)
```

### Funcionalidades Implementadas
```
‚úÖ Sistema de Tokens: 100%
‚úÖ Premium Features: 100%
‚úÖ IA Features: 100%
‚úÖ Sistema de Temas: 100%
‚úÖ Sistema de Reportes: 100%
‚úÖ Sistema de Monitoreo: 95%
‚úÖ Sistema de Seguridad: 100%
‚úÖ Chat en Tiempo Real: 100%
‚úÖ Chat con Privacidad: 100%
‚úÖ Permisos de Galer√≠a: 100%
‚úÖ Wallet Errors Silenciados: 100% (Ultra Agresivo)
‚úÖ React Polyfills: 100% (Prevenci√≥n errores chunks)
‚úÖ Navegaci√≥n Condicional: 100%
‚úÖ Perfiles de Pareja: 100%
‚úÖ Geolocalizaci√≥n: 100%
‚úÖ World ID: 100%
```

---

## üöÄ Quick Start

> **üìö Para una gu√≠a completa de instalaci√≥n y configuraci√≥n, consulta [INSTALACION_SETUP_v3.5.0.md](./INSTALACION_SETUP_v3.5.0.md)**

### Inicio R√°pido

```bash
# Clonar el repositorio
git clone https://github.com/ComplicesConectaSw/ComplicesConecta.git
cd ComplicesConecta

# Instalar dependencias
npm install

# Configurar variables de entorno
cp .env.example .env
# Editar .env con tus credenciales

# Iniciar servicios
npx supabase start
docker-compose up -d neo4j

# Iniciar servidor de desarrollo
npm run dev
```

### Documentaci√≥n de Instalaci√≥n

- **[INSTALACION_SETUP_v3.5.0.md](./INSTALACION_SETUP_v3.5.0.md)** - Gu√≠a completa paso a paso
  - Prerrequisitos y verificaci√≥n
  - Instalaci√≥n de dependencias
  - Configuraci√≥n de variables de entorno
  - Configuraci√≥n de base de datos (Supabase y Neo4j)
  - Configuraci√≥n de Docker
  - Configuraci√≥n de Android
  - Troubleshooting
  - Diagramas de flujo

---

## üèóÔ∏è Estructura del Proyecto (Resumen)

```
conecta-social-comunidad-main/
‚îú‚îÄ‚îÄ src/                          # Frontend React + TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ components/               # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/                # Dashboard administrativo
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AnalyticsDashboard.tsx     # Dashboard de analytics
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModerationMetrics.tsx      # M√©tricas de moderaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HistoricalCharts.tsx       # Gr√°ficos hist√≥ricos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WebhookConfigPanel.tsx     # Configuraci√≥n de webhooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AlertConfigPanel.tsx       # Configuraci√≥n de alertas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat/                 # Sistema de chat con privacidad
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChatRoom.tsx              # Componente principal (solicitar/aceptar chats)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MessageList.tsx           # Lista de mensajes formateada
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (componentes existentes)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ discover/             # Funcionalidad de descubrimiento
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/               # Gesti√≥n de eventos VIP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/              # Gesti√≥n de perfiles
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                   # Componentes UI base
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ notifications/        # Centro de notificaciones
‚îÇ   ‚îú‚îÄ‚îÄ services/                 # Servicios de negocio
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PerformanceMonitoringService.ts   # Monitoreo de performance
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ErrorAlertService.ts              # Alertas de errores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModerationMetricsService.ts       # M√©tricas de moderaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HistoricalMetricsService.ts       # M√©tricas hist√≥ricas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WebhookService.ts                 # Sistema de webhooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SmartMatchingService.ts           # Matching con IA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChatPrivacyService.ts             # Privacidad y permisos de chat
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VideoChatService.ts               # Video chat (preparado)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DataPrivacyService.ts             # GDPR compliance
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserVerificationService.ts        # Verificaci√≥n unificada
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TokenService.ts                   # Gesti√≥n de tokens
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NFTGalleryService.ts              # Servicio de galer√≠as NFT
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (30+ servicios m√°s)
‚îÇ   ‚îú‚îÄ‚îÄ config/                   # Configuraciones
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sentry.config.ts      # Configuraci√≥n de Sentry
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                    # Custom React hooks
‚îÇ   ‚îú‚îÄ‚îÄ pages/                    # P√°ginas principales
‚îÇ   ‚îú‚îÄ‚îÄ utils/                    # Utilidades
‚îÇ   ‚îî‚îÄ‚îÄ types/                    # Definiciones de tipos
‚îú‚îÄ‚îÄ supabase/                     # Backend Supabase
‚îÇ   ‚îú‚îÄ‚îÄ functions/                # Edge Functions
‚îÇ   ‚îî‚îÄ‚îÄ migrations/               # Migraciones de BD (47 tablas)
‚îú‚îÄ‚îÄ public/                       # Archivos p√∫blicos
‚îÇ   ‚îú‚îÄ‚îÄ sw-notifications.js       # Service Worker
‚îÇ   ‚îî‚îÄ‚îÄ manifest.json             # PWA manifest
‚îú‚îÄ‚îÄ tailwind.config.ts            # Configuraci√≥n Tailwind CSS (300 l√≠neas)
‚îú‚îÄ‚îÄ postcss.config.js             # Configuraci√≥n PostCSS
‚îú‚îÄ‚îÄ server.js                     # Express server (producci√≥n)
‚îú‚îÄ‚îÄ Dockerfile                    # Docker multi-stage
‚îú‚îÄ‚îÄ newrelic.js                   # New Relic config
‚îî‚îÄ‚îÄ vite.config.ts                # Vite + Sentry plugin
```

Ver [project-structure-tree.md](./project-structure-tree.md) para estructura completa.

---

## üß™ Testing

```bash
# Ejecutar todos los tests
npm test

# Tests con cobertura
npm run test:coverage

# Tests E2E
npm run test:e2e

# Linting
npm run lint

# Type checking
npm run type-check
```

**Estado Actual**: 98% tests pasando (234/239)

---

## üè≠ Build & Deployment

### Build de Producci√≥n

```bash
# Build optimizado
npm run build

# Preview del build
npm run preview
```

### Docker Deployment

```bash
# Build de imagen Docker
docker build -t complicesconecta:latest .

# Run con New Relic
docker run -d --name complicesconecta \
  -p 3000:3000 \
  -e NEW_RELIC_LICENSE_KEY=your_key \
  -e NEW_RELIC_APP_NAME="ComplicesConecta" \
  complicesconecta:latest

# Ver logs
docker logs -f complicesconecta
```

### DevOps Manager Ultra

```powershell
# PowerShell script para automatizaci√≥n
.\DevOpsManagerUltra.ps1
```

Ver [README_DEVOPS.md](./README_DEVOPS.md) para gu√≠a completa.

---

## üìä Dashboard de Analytics

### Acceso
1. Iniciar sesi√≥n como administrador
2. Navegar a `/admin/analytics`
3. Visualizar m√©tricas en tiempo real

### Pesta√±as Disponibles

#### 1. Overview (üìä)
- M√©tricas de performance actuales
- Web Vitals (LCP, FCP, FID, CLS, TTFB)
- Errores activos con estado
- Gr√°ficos SimpleBarChart CSS

#### 2. Moderaci√≥n (üõ°Ô∏è)
- Total de reportes
- Reportes por estado (4 categor√≠as)
- Reportes por severidad (4 niveles)
- Reportes por tipo (4 tipos)
- KPIs de moderadores
- Tiempos promedio de resoluci√≥n/respuesta
- Alerta de reportes de alta prioridad

#### 3. Hist√≥rico (üìà)
- Line Chart: Tendencias de performance
- Area Chart: Errores por severidad (stacked)
- Composed Chart: Web Vitals (barras + l√≠neas)
- Bar Chart: Actividad de moderaci√≥n
- Selector de rango temporal (1h - 7d)

#### 4. Configuraci√≥n (‚öôÔ∏è)
- AlertConfigPanel: Reglas de alertas
- NotificationSettings: Notificaciones desktop
- WebhookConfigPanel: Gesti√≥n de webhooks

### Auto-Refresh
Configurable en header: 1s, 5s, 10s, 30s

---

## üîî Sistema de Webhooks

### Providers Soportados
- **Slack**: Mensajes enriquecidos con blocks
- **Discord**: Embeds visuales
- **Custom**: Payload JSON flexible

### Configuraci√≥n

1. **Ir a** `/admin/analytics` ‚Üí pesta√±a "Configuraci√≥n"
2. **Crear nuevo webhook**:
   - Nombre descriptivo
   - Provider (slack/discord/custom)
   - URL del webhook
   - Eventos a escuchar (error, alert, report, performance, security)
   - Severidad m√≠nima (low, medium, high, critical)
   - Rate limit (mensajes por minuto)
3. **Guardar y probar**

### Alertas Autom√°ticas
Los errores capturados por `ErrorAlertService` se env√≠an autom√°ticamente a todos los webhooks configurados que cumplan con:
- Webhook habilitado
- Evento 'error' incluido en configuraci√≥n
- Severidad del error >= severidad m√≠nima configurada
- Rate limit no excedido

---

## üîç Sentry Integration

### Setup

1. **Crear proyecto en Sentry**: https://sentry.io
2. **Obtener DSN**: Project Settings ‚Üí Client Keys
3. **Agregar credenciales al .env**:
```env
VITE_SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
SENTRY_ORG=your_org
SENTRY_PROJECT=your_project
SENTRY_AUTH_TOKEN=your_token
```
4. **Build**: Los source maps se suben autom√°ticamente

### Funciones Utilitarias

```typescript
import { captureError, addBreadcrumb, setUserContext } from '@/config/sentry.config';

// Captura manual de errores
captureError(new Error('Custom error'), { context: 'data' });

// Agregar breadcrumbs
addBreadcrumb('User clicked button', 'user', 'info', { buttonId: 'submit' });

// Contexto de usuario
setUserContext({ id: userId, username: user.name });
```

---

## üö® New Relic Monitoring

### Infrastructure Agent

Monitorea el contenedor Docker:

```bash
docker run -d --name newrelic-infra \
  --network=host \
  --cap-add=SYS_PTRACE \
  --privileged \
  --pid=host \
  -v "/:/host:ro" \
  -v "/var/run/docker.sock:/var/run/docker.sock" \
  -e NRIA_LICENSE_KEY="your_license_key" \
  newrelic/infrastructure:latest
```

### APM Agent

Ya integrado en `server.js` y `Dockerfile`. M√©tricas disponibles:
- Request throughput
- Response time
- Error rate
- Transaction traces
- Database queries
- External services
- Custom events

### Dashboard New Relic

1. Ir a https://one.newrelic.com
2. Buscar "ComplicesConecta"
3. Ver m√©tricas en tiempo real

---

## üîí Seguridad

### Autenticaci√≥n
- Dual mode: Demo (localStorage) + Real (Supabase Auth)
- Session management con refresh tokens
- 2FA ready (configuraci√≥n pendiente)

### Autorizaci√≥n
- 60+ pol√≠ticas RLS activas en Supabase
- Permisos por rol (user, moderator, admin)
- Validaci√≥n en frontend y backend

### Privacidad
- Datos sensibles filtrados en Sentry
- Headers de autorizaci√≥n nunca loggeados
- Emails e IPs nunca expuestos
- RLS garantiza acceso solo a datos propios

### Auditor√≠a
- Security events tracking
- Logs de moderaci√≥n completos
- Activity logs por usuario
- Threat detection autom√°tico

---

## üìù Convenciones de C√≥digo

### TypeScript
- Strict mode enabled
- No any's (excepto casos justificados)
- Interfaces para props de componentes
- Types para datos de servicios

### React
- Functional components con hooks
- Memoizaci√≥n cuando aplique (React.memo, useMemo, useCallback)
- Custom hooks para l√≥gica reutilizable
- Props drilling evitado (context cuando sea necesario)

### Commits
```
<type>(<scope>): <subject>

<body>

<footer>
```

**Types**: feat, fix, docs, style, refactor, test, chore

Ejemplo:
```
feat(monitoring): agregar gr√°ficos hist√≥ricos con Recharts

- Implementado HistoricalMetricsService
- Creado HistoricalCharts con 4 tipos de gr√°ficos
- Integrado en AnalyticsDashboard
- Tests agregados

Closes #123
```

---

## üõ†Ô∏è Troubleshooting

### Build Errors

**Error: ERESOLVE could not resolve**
```bash
npm ci --legacy-peer-deps
```

**Error: Module not found**
```bash
# Limpiar cache y reinstalar
rm -rf node_modules package-lock.json
npm install
```

### Database Errors

**Error: relation "table_name" does not exist**
```bash
# Aplicar migraciones
npx supabase migration up --local
npx supabase gen types typescript --local > src/types/supabase.ts
```

**Error: RLS policy violation**
- Verificar que el usuario est√© autenticado
- Revisar pol√≠ticas RLS en Supabase Studio
- Comprobar que `auth.uid()` coincida con el usuario actual

### Docker Errors

**Error: require is not defined in ES module scope**
- Asegurar que `server.js` use ES modules (`import` en lugar de `require`)
- Verificar `"type": "module"` en `package.json`

**Error: Docker build fails at npm ci**
```dockerfile
# Usar --legacy-peer-deps en Dockerfile
RUN npm ci --legacy-peer-deps --omit=dev
```

---

## ü§ù Contribuir

### Flujo de Trabajo

1. **Fork** del repositorio
2. **Crear rama** de feature: `git checkout -b feature/nueva-funcionalidad`
3. **Commit** con mensajes descriptivos
4. **Push** a la rama: `git push origin feature/nueva-funcionalidad`
5. **Pull Request** con descripci√≥n detallada

### √Åreas de Contribuci√≥n

- üêõ **Bug Fixes**: Correcci√≥n de errores reportados
- ‚ú® **Features**: Nuevas funcionalidades
- üìù **Documentaci√≥n**: Mejoras en docs
- üß™ **Tests**: Aumentar cobertura
- üé® **UI/UX**: Mejoras de dise√±o
- ‚ö° **Performance**: Optimizaciones

Ver [README_IA.md](./README_IA.md) para estrategia de desarrollo con IA.

---

## üìö Recursos Adicionales

### Documentaci√≥n T√©cnica
- [Estructura del Proyecto](./project-structure-tree.md)
- [Notas de Lanzamiento](./RELEASE_NOTES_v3.4.1.md)
- [Gu√≠a DevOps](./README_DEVOPS.md)
- [Integraci√≥n IA](./README_IA.md)

### Auditor√≠as y Estado
- [Auditor√≠a Unificada](./AUDITORIA_UNIFICADA_v3.4.1.md)
- [Correcciones Unificadas](./CORRECCIONES_UNIFICADAS_v3.4.1.md)
- [Estado Completo](./ESTADO_COMPLETO_v3.4.1.md)

### Implementaciones Recientes
- [Mejoras Gr√°ficos y Moderaci√≥n](./MEJORAS_GRAFICOS_MODERACION_v3.4.1.md)
- [Funcionalidades Avanzadas](./FUNCIONALIDADES_AVANZADAS_v3.4.1.md)

### APIs y SDKs Utilizadas
- [Supabase Documentation](https://supabase.com/docs)
- [React Documentation](https://react.dev)
- [Recharts Documentation](https://recharts.org)
- [Sentry React SDK](https://docs.sentry.io/platforms/javascript/guides/react/)
- [New Relic Node.js Agent](https://docs.newrelic.com/docs/apm/agents/nodejs-agent/)
- [Worldcoin Documentation](https://docs.worldcoin.org)

---

## üë• Equipo

**Liderado por**: Ing. Juan Carlos M√©ndez Nataren  
**Dise√±os por**: Reina Magali Perdomo Sanchez & Ing. Juan Carlos M√©ndez Nataren  
**Marketing por**: Reina Magali Perdomo Sanchez

### ‚öñÔ∏è Equipo Legal y Cumplimiento

**Departamento Legal:**
- **Email**: legal@complicesconecta.com
- **Tel√©fono**: +52 55 1234 5678
- **Representante Legal**: Ing. Juan Carlos M√©ndez Nataren

**Cumplimiento Normativo:**
- **Email**: compliance@complicesconecta.com
- **Horario**: Lunes a Viernes, 9:00 AM - 6:00 PM (Ciudad de M√©xico)
- **Responsable**: Ing. Juan Carlos M√©ndez Nataren

**Informaci√≥n Legal:**
- **Empresa**: ComplicesConecta S.A. de C.V.
- **RFC**: CCO240901ABC
- **Domicilio**: Ciudad de M√©xico, M√©xico
- **Jurisdicci√≥n**: Estados Unidos Mexicanos
- **Legislaci√≥n Aplicable**: Ley Federal de Protecci√≥n de Datos Personales
- **Regulador**: CONDUSEF (servicios financieros)
- **Tribunales Competentes**: Federales de M√©xico

---

## üìû Soporte

**Email**: complicesconectasw@outlook.es  
**GitHub**: [ComplicesConectaSw](https://github.com/ComplicesConectaSw)  
**Website**: [complicesconecta.com](https://complicesconecta.com)

---

## ‚öñÔ∏è Licencia

¬© 2025 ComplicesConecta Software. Todos los derechos reservados.

---

## ‚ö†Ô∏è Aviso Legal

**Contenido para Adultos +18**

ComplicesConecta es una plataforma exclusiva para adultos mayores de 18 a√±os interesados en el estilo de vida swinger. Al acceder a esta aplicaci√≥n, confirmas que:

- ‚úÖ Eres mayor de 18 a√±os
- ‚úÖ El contenido para adultos es legal en tu jurisdicci√≥n
- ‚úÖ Aceptas los [T√©rminos de Servicio](./legal/TERMS_OF_SERVICE.md)
- ‚úÖ Has le√≠do la [Pol√≠tica de Privacidad](./legal/PRIVACY_POLICY.md)

**Uso Responsable**: Esta plataforma promueve conexiones consensuadas, respetuosas y seguras. No toleramos acoso, contenido no consensuado ni actividad ilegal.

---

*Conexiones aut√©nticas, experiencias √∫nicas, discreci√≥n total.* üî•
